# Screen Space Reflection 2

**2017-1-14**

基于上个版本的屏幕空间反射做了几点改进：

* 将物体的厚度考虑了进来，不再是固定的厚度值。使用物体真实厚度的好处是射线检测更加精确，得到的效果更好。
* 反射相交检测基于屏幕像素步进，避免基于三维空间步进时的缺陷。三维空间中的线段，由于透视关系，同等的长度投射到屏幕上的像素点数量并不相同，这就导致了和屏幕接近平行时，一次步进可以跨过很多个像素，而和屏幕接近垂直时，多次步进只跨过一个像素点。这种不平均会造成计算上的浪费以及渲染效果的错误。

[Github 项目地址][link1]。

[link1]: https://github.com/chengkehan/DeferredRendering

当前版本的截图。渲染效果比上个版本有了一定的提高。

还有一个有待解决的问题是：由于屏幕空间只能记录最上层物体的厚度，当反射射线位于两个物体之间的时候，就会出现深度判断上的问题，导致渲染效果出错。

> ![img](ScreenSpaceReflection2/1.jpg =600x)

